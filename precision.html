<!DOCTYPE html>
<html lang="en">
<title>Timing game</title>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <h1>Sri Vidya Vilipala Speed Check</h1>
  <style>
    body {
      font-family:'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
      margin: 20px;
      text-align: center;
    }

    .timer {
      margin: 20px 0;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
      background-color: #75bbed;
      font-size: 18px;
    }

    button {
      margin: 5px;
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
    }
  </style>
</head>

<body>

  <div id="countdown" class="timer">Count: </div>
  <div id="target" class="timer">Your time: </div>

  <button id="startButton">Start Timer</button>
  <button id="stopButton">Stop Timer</button>

  <script>
//     let stopTime; 
//     let countdownStarted = false; 

//     function recordTime() {
//       stopTime = Date.now(); 
//       console.log(`Stop Time: ${stopTime}`); 
//     }

//     document.getElementById('stopButton').onclick = recordTime;

//     function startTime() {
//       if (countdownStarted) return; 

//       countdownStarted = true; 
//       document.getElementById('target').innerText = 'Your time: '; 

//       for (let i = 0; i < 5; i++) {
//         setTimeout(() => {
//           document.getElementById('countdown').innerText = `Count: ${5 - i}`; 
//         }, i * 1000); 
//       }

//       setTimeout(() => {
//         if (stopTime === undefined) {
//           document.getElementById('target').innerText = "Too Slow";
//         } else {
//           const elapsedTime = Date.now() - stopTime; 
//           document.getElementById('target').innerText = `Time was ${elapsedTime} ms`;
//         }
//         countdownStarted = false;
//       }, 5000); 
//     }

//     document.getElementById('startButton').onclick = startTime; 

let stopTime;

function startTime() {
    // Clear previous stopTime
    stopTime = undefined;

    // Countdown from 4 to 0
    for (let i = 0; i <= 4; i++) {
        setTimeout(function() {
            document.getElementById('countdown').innerHTML = 4 - i;
        }, i * 1000);
    }

    // Final check after countdown
    setTimeout(function() {
        if (stopTime === undefined) {
            document.getElementById('target').innerHTML = "Too Slow";
        } else {
            const elapsedTime = Date.now() - stopTime;
            document.getElementById('target').innerHTML = "Time was " + elapsedTime + " ms";
        }
    }, 5000);
}

// Attach event listener to start button
document.getElementById('startButton').onclick = startTime;

// Stop timer function to be called from another button or action
function stopTimer() {
    stopTime = Date.now();
}

</script>
</body>

</html>